# Universal Rail System - Visual Specification

## Master Layout Diagram

```
╔══════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                                                                  ║
║   ┌─────────────────────────────────────── HEADER BAR (56px) ──────────────────────────────────┐ ║
║   │                                                                                             │ ║
║   │  ╭──────╮                                                                                   │ ║
║   │  │ ◈ SX9│  App Name          Context / Breadcrumbs              🔍  [Actions]  ○ User     │ ║
║   │  ╰──────╯                                                                                   │ ║
║   │  Zone A (200px)              Zone B (flex-grow)                 Zone C (400px max)         │ ║
║   │                                                                                             │ ║
║   └─────────────────────────────────────────────────────────────────────────────────────────────┘ ║
║                                                                                                  ║
║   ┌─────────────┬───────────────────────────────────────────────────────────┬─────────────────┐ ║
║   │             │                                                           │                 │ ║
║   │   ACTION    │                                                           │    CONTEXT      │ ║
║   │    RAIL     │                                                           │     RAIL        │ ║
║   │             │                                                           │                 │ ║
║   │   240px     │                    PRIMARY CANVAS                         │     320px       │ ║
║   │   fixed     │                      (flex-grow)                          │     fixed       │ ║
║   │             │                                                           │                 │ ║
║   │  ┌───────┐  │                                                           │  ┌───────────┐  │ ║
║   │  │ Tab 1 │◀─│─ Active                                                   │  │  Tab A    │  │ ║
║   │  ├───────┤  │                                                           │  ├───────────┤  │ ║
║   │  │ Tab 2 │  │                                                           │  │  Tab B    │◀─│─ Active
║   │  ├───────┤  │   ┌─────────────────────────────────────────────────┐     │  ├───────────┤  │ ║
║   │  │ Tab 3 │  │   │                                                 │     │  │  Tab C    │  │ ║
║   │  ├───────┤  │   │                                                 │     │  ├───────────┤  │ ║
║   │  │ Tab 4 │  │   │                                                 │     │  │  Tab D    │  │ ║
║   │  ├───────┤  │   │              WORK AREA                          │     │  └───────────┘  │ ║
║   │  │ Tab 5 │  │   │                                                 │     │                 │ ║
║   │  ├───────┤  │   │         User's primary task                     │     │  ╔═══════════╗  │ ║
║   │  │ Tab 6 │  │   │            happens here                         │     │  ║  PRIMARY  ║  │ ║
║   │  └───────┘  │   │                                                 │     │  ║  FEEDBACK ║  │ ║
║   │             │   │                                                 │     │  ║           ║  │ ║
║   │  ┌───────┐  │   │                                                 │     │  ║  Status   ║  │ ║
║   │  │Section│  │   │                                                 │     │  ║  Scores   ║  │ ║
║   │  │Content│  │   │                                                 │     │  ║  Gauges   ║  │ ║
║   │  │       │  │   │                                                 │     │  ║           ║  │ ║
║   │  │ Forms │  │   │                                                 │     │  ╚═══════════╝  │ ║
║   │  │ Lists │  │   │                                                 │     │                 │ ║
║   │  │ Trees │  │   │                                                 │     │  ┌───────────┐  │ ║
║   │  │       │  │   │                                                 │     │  │ Secondary │  │ ║
║   │  │       │  │   └─────────────────────────────────────────────────┘     │  │   Info    │  │ ║
║   │  │       │  │                                                           │  │           │  │ ║
║   │  │       │  │                                                           │  │ Metadata  │  │ ║
║   │  │       │  │                                                           │  │ History   │  │ ║
║   │  └───────┘  │                                                           │  │ Details   │  │ ║
║   │             │                                                           │  └───────────┘  │ ║
║   │  ┌───────┐  │                                                           │                 │ ║
║   │  │⚙ Set  │  │◀─ Pinned footer                                           │  ┌───────────┐  │ ║
║   │  │? Help │  │                                                           │  │ [Actions] │◀─│─ Pinned
║   │  └───────┘  │                                                           │  └───────────┘  │ ║
║   │             │                                                           │                 │ ║
║   └─────────────┴───────────────────────────────────────────────────────────┴─────────────────┘ ║
║                                                                                                  ║
║   ┌─────────────────────────────────────── STATUS BAR (32px) ──────────────────────────────────┐ ║
║   │                                                                                             │ ║
║   │  ● Ready  ◐ Sync   ○ Idle          Processing request...              1,234 tokens  $0.02  │ ║
║   │  Zone A (indicators)               Zone B (messages)                  Zone C (metrics)     │ ║
║   │                                                                                             │ ║
║   └─────────────────────────────────────────────────────────────────────────────────────────────┘ ║
║                                                                                                  ║
╚══════════════════════════════════════════════════════════════════════════════════════════════════╝
```

## Responsive States

### Desktop (≥ 1440px) - Full Layout
```
┌────────────────────────────────────────────────────────────────────────┐
│                              HEADER                                     │
├──────────┬─────────────────────────────────────────────────┬───────────┤
│          │                                                 │           │
│  ACTION  │                  CANVAS                         │  CONTEXT  │
│  240px   │                  flex                           │   320px   │
│          │                                                 │           │
├──────────┴─────────────────────────────────────────────────┴───────────┤
│                              STATUS                                     │
└────────────────────────────────────────────────────────────────────────┘
```

### Laptop (1024-1439px) - Collapsed Rails
```
┌────────────────────────────────────────────────────────────────────────┐
│                              HEADER                                     │
├────┬───────────────────────────────────────────────────────────────┬───┤
│    │                                                               │   │
│ 56 │                        CANVAS                                 │56 │
│ px │                        flex                                   │px │
│    │                                                               │   │
│ ◀▶ │                                                               │◀▶ │ ← Click to expand
├────┴───────────────────────────────────────────────────────────────┴───┤
│                              STATUS                                     │
└────────────────────────────────────────────────────────────────────────┘
```

### Tablet (768-1023px) - Overlay Rails
```
┌────────────────────────────────────────────────────────────────────────┐
│  ☰                          HEADER                                  ☰  │
├────────────────────────────────────────────────────────────────────────┤
│                                                                        │
│                                                                        │
│                           CANVAS 100%                                  │
│                                                                        │
│                                                                        │
├────────────────────────────────────────────────────────────────────────┤
│                              STATUS                                     │
└────────────────────────────────────────────────────────────────────────┘

     ☰ triggers overlay:
     ┌──────────┐
     │  ACTION  │ ← Slides in from left
     │   RAIL   │   with backdrop
     │  280px   │
     └──────────┘
```

### Mobile (< 768px) - Modal Rails
```
┌───────────────────────┐
│ ☰  HEADER          ☰  │
├───────────────────────┤
│                       │
│                       │
│    CANVAS 100%        │
│                       │
│                       │
├───────────────────────┤
│       STATUS          │
└───────────────────────┘

☰ opens full-screen modal
```

## Component Anatomy

### Action Rail Expanded (240px)
```
┌─────────────────────────────┐
│ ╭─────────────────────────╮ │
│ │ ◉  Tab Label 1          │ │ ← Active (accent bg)
│ ╰─────────────────────────╯ │
│ ╭─────────────────────────╮ │
│ │ ○  Tab Label 2          │ │
│ ╰─────────────────────────╯ │
│ ╭─────────────────────────╮ │
│ │ ○  Tab Label 3      (3) │ │ ← Badge
│ ╰─────────────────────────╯ │
│ ╭─────────────────────────╮ │
│ │ ○  Tab Label 4          │ │
│ ╰─────────────────────────╯ │
├─────────────────────────────┤
│                             │
│  ┌───────────────────────┐  │
│  │   Section Content     │  │
│  │                       │  │
│  │   • List item 1       │  │
│  │   • List item 2       │  │
│  │   • List item 3       │  │
│  │                       │  │
│  │   ┌─────────────────┐ │  │
│  │   │  Input Field    │ │  │
│  │   └─────────────────┘ │  │
│  │                       │  │
│  │   [  Action Btn  ]   │  │
│  │                       │  │
│  └───────────────────────┘  │
│                             │
├─────────────────────────────┤
│ ╭─────────────────────────╮ │
│ │ ⚙  Settings             │ │ ← Pinned footer
│ ╰─────────────────────────╯ │
│ ╭─────────────────────────╮ │
│ │ ?  Help                 │ │
│ ╰─────────────────────────╯ │
└─────────────────────────────┘
```

### Action Rail Collapsed (56px)
```
┌──────┐
│  ◉   │ ← Active indicator
├──────┤
│  ○   │
├──────┤
│ ○(3) │ ← Badge
├──────┤
│  ○   │
├──────┤
│      │
│      │
│      │
│      │
│      │
├──────┤
│  ⚙   │
├──────┤
│  ?   │
└──────┘
```

### Context Rail Content Zones
```
┌─────────────────────────────────┐
│  [Tab A] [Tab B] [Tab C] [Tab D]│ ← Max 4 tabs
├─────────────────────────────────┤
│                                 │
│  ╔═══════════════════════════╗  │
│  ║    PRIMARY FEEDBACK       ║  │ ← Always visible
│  ║                           ║  │
│  ║   ┌─────────────────┐     ║  │
│  ║   │   DRIFT GAUGE   │     ║  │
│  ║   │      0.42       │     ║  │
│  ║   │   ████████░░░   │     ║  │
│  ║   └─────────────────┘     ║  │
│  ║                           ║  │
│  ║   ┌──────┬──────┐         ║  │
│  ║   │Static│ Arch │         ║  │
│  ║   │  ✓   │  ✓   │         ║  │
│  ║   ├──────┼──────┤         ║  │
│  ║   │Pattrn│Semant│         ║  │
│  ║   │  ⏳   │  ○   │         ║  │
│  ║   └──────┴──────┘         ║  │
│  ║                           ║  │
│  ╚═══════════════════════════╝  │
│                                 │
├─────────────────────────────────┤
│                                 │
│  ┌───────────────────────────┐  │
│  │   SECONDARY INFO          │  │ ← Scrollable
│  │                           │  │
│  │   Agent: Forge            │  │
│  │   Model: Sonnet 4.5       │  │
│  │   Mode:  Supervised       │  │
│  │                           │  │
│  │   ─────────────────────   │  │
│  │                           │  │
│  │   Recent Activity         │  │
│  │   • Prompt saved 2m ago   │  │
│  │   • QA passed 5m ago      │  │
│  │   • Template loaded       │  │
│  │                           │  │
│  └───────────────────────────┘  │
│                                 │
├─────────────────────────────────┤
│  ┌───────────────────────────┐  │
│  │  [ Export ]  [ Share ]    │  │ ← Pinned actions
│  └───────────────────────────┘  │
└─────────────────────────────────┘
```

## Color Tokens

```
┌─────────────────────────────────────────────────────────────────┐
│                        DARK THEME                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  Background Layers:                                              │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  Header/Status    bg-slate-900       #0f172a             │   │
│  │  Rails            bg-slate-800       #1e293b             │   │
│  │  Canvas           bg-slate-950       #020617             │   │
│  │  Cards/Panels     bg-slate-800/50    #1e293b80           │   │
│  └──────────────────────────────────────────────────────────┘   │
│                                                                  │
│  Borders:                                                        │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  Rail borders     border-slate-700   #334155             │   │
│  │  Dividers         border-slate-700/50 #33415580          │   │
│  └──────────────────────────────────────────────────────────┘   │
│                                                                  │
│  Interactive:                                                    │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  Active tab       bg-cyan-500/20     #06b6d433           │   │
│  │  Hover            bg-slate-700/50    #33415580           │   │
│  │  Focus ring       ring-cyan-500      #06b6d4             │   │
│  └──────────────────────────────────────────────────────────┘   │
│                                                                  │
│  Status Colors:                                                  │
│  ┌──────────────────────────────────────────────────────────┐   │
│  │  Success (✓)      text-emerald-400   #34d399             │   │
│  │  Warning (⚠)      text-amber-400     #fbbf24             │   │
│  │  Error (✗)        text-red-400       #f87171             │   │
│  │  Info (●)         text-cyan-400      #22d3ee             │   │
│  │  Pending (○)      text-slate-500     #64748b             │   │
│  └──────────────────────────────────────────────────────────┘   │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## Spacing System

```
┌─────────────────────────────────────────────────────────────────┐
│                        SPACING SCALE                             │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   4px   ░      Micro gaps (icon padding, badge insets)          │
│   8px   ░░     Tight spacing (list item gaps)                   │
│  12px   ░░░    Component internal padding                        │
│  16px   ░░░░   Standard gap (between sections)                  │
│  24px   ░░░░░░ Rail padding (left/right margins)                │
│  32px   ░░░░░░░░ Section breaks                                  │
│                                                                  │
│  Tab height:    44px (touch-friendly)                           │
│  Icon size:     20px (in tabs)                                  │
│  Badge size:    18px (min)                                      │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## Application Examples

### sx9-forge Layout
```
┌────────────────────────────────────────────────────────────────────────┐
│ ◈ SX9  Prompt Forge    Mission: RFC-9150 Implementation    [▶ Run]    │
├──────────┬─────────────────────────────────────────────────┬───────────┤
│          │                                                 │           │
│ ◉ Mission│  ┌─────────────────────────────────────────┐   │ QA  Intel │
│ ○ Vars   │  │         VARIABLE BINDING                │   │           │
│ ○ Tmpl   │  │  [mission] → ░░░░░░░░░░░░░░░░░░░░░     │   │ ╔═══════╗ │
│ ○ History│  │  [agent]   → ░░░░░░░░░░░░░░░░░░░░░     │   │ ║ 0.42  ║ │
│          │  └─────────────────────────────────────────┘   │ ║▓▓▓▓░░░║ │
│ ┌──────┐ │  ┌─────────────────────────────────────────┐   │ ╚═══════╝ │
│ │Objec-│ │  │ # SX9-PROMPT v4.0                       │   │           │
│ │tive: │ │  │ header:                                 │   │ ┌───┬───┐ │
│ │      │ │  │   title: "{{mission}}"                  │   │ │ ✓ │ ✓ │ │
│ │Build │ │  │   agent: {{agent}}                      │   │ ├───┼───┤ │
│ │rail  │ │  │                                         │   │ │ ⏳│ ○ │ │
│ │system│ │  │ context:                                │   │ └───┴───┘ │
│ │      │ │  │   sources:                              │   │           │
│ └──────┘ │  │     memory: true                        │   │ Agent:    │
│          │  └─────────────────────────────────────────┘   │ Forge     │
│          │  ┌─────────────────────────────────────────┐   │ Sonnet4.5 │
│ ⚙ Config │  │         PREVIEW                         │   │           │
│ ? Help   │  │ Rendered prompt will appear here...     │   │ [Export]  │
│          │  └─────────────────────────────────────────┘   │           │
├──────────┴─────────────────────────────────────────────────┴───────────┤
│ ● Static ✓  ● Arch ✓  ◐ Pattern  ○ Semantic      1,234 tok    $0.02   │
└────────────────────────────────────────────────────────────────────────┘
```

### sx9-ops-main Layout
```
┌────────────────────────────────────────────────────────────────────────┐
│ ◈ SX9  Operations      Dashboard / Hunt Phase           🔍  ○ Admin   │
├──────────┬─────────────────────────────────────────────────┬───────────┤
│          │                                                 │           │
│ ○ Dashbd │  ┌─────────────────────────────────────────┐   │Intel Thrts│
│ ◉ Hunt   │  │                                         │   │           │
│ ○ Detect │  │              MAP VIEW                   │   │ Active    │
│ ○ Disable│  │                                         │   │ Threats:  │
│ ○ Disrupt│  │         🌍 [Interactive Map]            │   │           │
│ ○ Domint │  │                                         │   │ ● APT-29  │
│          │  │                                         │   │ ● Lazarus │
│ ┌──────┐ │  │                                         │   │           │
│ │Hunt  │ │  └─────────────────────────────────────────┘   │ ────────  │
│ │Tools │ │                                                 │           │
│ │      │ │  ┌──────────┬──────────┬──────────┐            │ Recent:   │
│ │OSINT │ │  │ Targets  │ Intel    │ Timeline │            │           │
│ │Recon │ │  │    12    │   847    │  24h     │            │ • Scan    │
│ │Enum  │ │  └──────────┴──────────┴──────────┘            │ • Alert   │
│ │      │ │                                                 │ • Report  │
│ └──────┘ │                                                 │           │
│          │                                                 │ [Action]  │
│ ⚙ Config │                                                 │           │
├──────────┴─────────────────────────────────────────────────┴───────────┤
│ ● Online  ● 3 Scans Active  ● NATS ✓                    12 agents up  │
└────────────────────────────────────────────────────────────────────────┘
```

---

## Figma Implementation Notes

### Frame Structure
```
Page: Universal Rail System
├── Frame: Master Layout (1440x900)
├── Frame: Responsive - Laptop (1280x800)
├── Frame: Responsive - Tablet (1024x768)
├── Frame: Responsive - Mobile (390x844)
├── Frame: Components
│   ├── Action Rail / Expanded
│   ├── Action Rail / Collapsed
│   ├── Context Rail / Expanded
│   ├── Context Rail / Collapsed
│   ├── Header Bar
│   ├── Status Bar
│   ├── Rail Tab / Default
│   ├── Rail Tab / Active
│   ├── Rail Tab / Hover
│   └── Rail Tab / With Badge
└── Frame: Application Examples
    ├── sx9-forge
    └── sx9-ops-main
```

### Auto Layout Settings
- Rails: Vertical, 8px gap, 16px padding
- Tabs: Horizontal, fill container, 44px height
- Header zones: Horizontal, space-between
- Status bar: Horizontal, space-between
