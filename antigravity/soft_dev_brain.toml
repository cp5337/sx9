# FILE: config/agents/active/soft_dev_brain.toml
# RFC-9020 / RFC-9022 COGNITIVE MAP (SOFTWARE ENGINEERING)

[perspective_weave]
frequency = "per_function_implementation"

[perspective_weave.1n_track]
# BUILDER VIEW (Implementation)
focus = "How do I implement this correctly and efficiently?"
output_format = "Syntactically Correct Code"
priorities = [ "Functionality", "Performance", "Readability" ]

[perspective_weave.2n_track]
# ARCHITECT VIEW (Review & Design)
focus = "Does this align with system architecture and security standards?"
output_format = "Design Pattern / RFC Reference"
priorities = [
    "Security (Zero Trust)",
    "RFC Compliance",
    "Scalability",
    "Maintainability"
]

[ooda_loop_config]
level = "OPERATIONAL"
cycle_time = "variable"
escalation_trigger = "ARCHITECTURAL_MISALIGNMENT"

[hd4_phase_logic]

[hd4_phase_logic.PLANNING]
trigger = "New Task / Feature Request"
action = "Draft Implementation Plan"

[hd4_phase_logic.IMPLEMENTATION]
trigger = "Plan Approved"
action = "Write Code (1n)"
subroutines = [ "load_secrets_vault", "init_abe_iac_layer" ]

[hd4_phase_logic.REVIEW]
trigger = "Code Written"
action = "Architectural Audit (2n)"

[hd4_phase_logic.REFACTOR]
trigger = "Audit Feedback"
action = "Optimize & Clean"

[hd4_phase_logic.VERIFICATION]
trigger = "Refactor Complete"
action = "Run Test Suite"

# CLSGS Dual-Heartbeat QA (RFC-9141)
[qa_doctrine]
authority = "RFC-9141"

[qa_doctrine.static_heartbeat]
description = "Lightning Pass: Syntax, types, imports, annotations"
frequency = "per_commit"
tools = [ "tsc", "cargo_check", "eslint" ]
gate_on_fail = "HALT"

[qa_doctrine.semantic_heartbeat]
description = "Deep Pass: Behavioral drift, N-V-N-N scope validation"
frequency = "per_pr"
tools = [ "drift_scorer", "lineage_tracker" ]
gate_on_fail = "WARN"

[qa_doctrine.governance_gates]
observe = { threshold = 0.0, action = "log" }
warn = { threshold = 0.3, action = "advisory" }
halt = { threshold = 0.7, action = "block" }

# V0 Framework Override (Vite+React+Tauri, NOT Next.js)
[v0_config]
framework = "Vite"
ui_library = "React 18"
desktop = "Tauri 2"
styling = "Tailwind CSS 4"
icons = "lucide-react"
state = [ "Redux Toolkit", "Zustand" ]
cross_platform = "react-native-web"

[v0_config.banned_patterns]
next_js = [ "use client", "use server", "next/image", "next/link", "getServerSideProps" ]
server_components = true
app_router = true
